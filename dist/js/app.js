/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };

/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};

/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};

/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

eval("var container;\r\nvar camera, scene, projector, renderer, mixer;\r\n\r\nvar pablo, aquarium, waterLevel ;\r\n\r\nvar spline, counter = 0, line;\r\nvar pabloDepletion = 6;\r\nvar pabloIsDead = false;\r\n\r\nvar tangent = new THREE.Vector3();\r\nvar axis = new THREE.Vector3();\r\nvar up = new THREE.Vector3(0, 0, 1);\r\n\r\nvar depleteFactor = 0.005;\r\n\r\ninit();\r\nanimate();\r\n\r\nfunction init() {\r\n\r\n    container = document.createElement( 'div' );\r\n    document.body.appendChild( container );\r\n\r\n\r\n    //\r\n\r\n    scene = new THREE.Scene();\r\n\r\n    // Crreate a camera\r\n    camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 1000 );\r\n    camera.position.z = 100;\r\n\r\n    // Create a directional light and position it like the camera, sort of\r\n    var dirLight = new THREE.DirectionalLight( 0xffffff, 0.6 );\r\n    dirLight.position = camera.position;\r\n    dirLight.rotation = camera.rotation;\r\n    dirLight.position.x += 300;\r\n    dirLight.position.y += 300;\r\n    scene.add(dirLight);\r\n\r\n    // Create an ambient light\r\n    var ambLight = new THREE.AmbientLight( 0xffffff, 0.8 );\r\n    ambLight.position.y = 1000;\r\n    scene.add(ambLight);\r\n\r\n    var loader = new THREE.JSONLoader();\r\n    loader.load( \"../models/pablo-escofish2.json\", function( geometry, materials ) {\r\n        for ( var i = 0; i < materials.length; i ++ ) {\r\n            var m = materials[ i ];\r\n            //m.skinning = true;\r\n            m.morphTargets = true;\r\n            console.log(m);\r\n        }\r\n        pablo  = new THREE.SkinnedMesh( geometry, new THREE.MeshFaceMaterial( materials ) );\r\n\r\n        // pablo = new THREE.Mesh( geometry, new THREE.MultiMaterials( {\r\n        //     vertexColors: THREE.FaceColors,\r\n        //     morphTargets: true\r\n        // } ) );\r\n        pablo.scale.set( 1, 1, 1 );\r\n        scene.add( pablo );\r\n\r\n        console.log(scene);\r\n\r\n        mixer = new THREE.AnimationMixer( pablo );\r\n\r\n        var clip = THREE.AnimationClip.CreateFromMorphTargetSequence( 'skeletalAction.001', geometry.morphTargets, 30, false );\r\n        console.log(clip);\r\n        mixer.clipAction( clip ).setDuration( 3 ).play();\r\n\r\n    } );\r\n\r\n    // Create the water level\r\n    waterLevel = new THREE.Object3D();\r\n    waterLevel.add( new THREE.Mesh(\r\n        new THREE.BoxGeometry(100, 60, 70),\r\n\r\n        new THREE.MeshPhongMaterial( {\r\n            color: 0x156289,\r\n            emissive: 0x072534,\r\n            side: THREE.DoubleSide,\r\n            shading: THREE.FlatShading,\r\n            transparent: true,\r\n            opacity: 0.4\r\n        } )\r\n    ) );\r\n\r\n    // Set it at the bottom of the aquarium\r\n    waterLevel.position.y = -4.99;\r\n\r\n    // Add to scene\r\n    scene.add( waterLevel );\r\n\r\n    // Create the glass aquarium\r\n    aquarium = new THREE.Object3D();\r\n    aquarium.add( new THREE.Mesh(\r\n        new THREE.BoxGeometry(100, 70, 70),\r\n\r\n        new THREE.MeshPhongMaterial( {\r\n            color: 0xE0EAE7,\r\n            // emissive: 0x072534,\r\n            side: THREE.DoubleSide,\r\n            shading: THREE.FlatShading,\r\n            transparent: true,\r\n            opacity: 0.2\r\n        } )\r\n    ) );\r\n\r\n    // Add to scene\r\n    scene.add( aquarium );\r\n\r\n    //\r\n\r\n    var numPoints = 50;\r\n\r\n    spline = new THREE.SplineCurve3([\r\n        new THREE.Vector3(0, 0, 0),\r\n        new THREE.Vector3(20, 0, 20),\r\n        new THREE.Vector3(40, 0, 0),\r\n        new THREE.Vector3(0, 0, -40),\r\n        new THREE.Vector3(-25, 0, 0),\r\n        new THREE.Vector3(-15, 0, 5),\r\n        new THREE.Vector3(-10, 0, -20),\r\n        new THREE.Vector3(0, 0, 0)]);\r\n\r\n    var material = new THREE.LineBasicMaterial({\r\n        color: 0xff00f0,\r\n    });\r\n\r\n    var geometry = new THREE.Geometry();\r\n    var splinePoints = spline.getPoints(numPoints);\r\n\r\n    for (var i = 0; i < splinePoints.length; i++) {\r\n        geometry.vertices.push(splinePoints[i]);\r\n    }\r\n\r\n    // uncomment if we want to show the path\r\n    // line = new THREE.Line(geometry, material);\r\n    // scene.add(line);\r\n\r\n    //\r\n\r\n    renderer = new THREE.WebGLRenderer();\r\n    renderer.setClearColor( 0xf0f0f0 );\r\n    renderer.setPixelRatio( window.devicePixelRatio );\r\n    renderer.setSize( window.innerWidth, window.innerHeight );\r\n    container.appendChild(renderer.domElement);\r\n\r\n    // Render the objects in the scene in the order they were created\r\n    renderer.sortObjects = false;\r\n\r\n    // Create the controls to rotate the aquarium\r\n    var orbit = new THREE.OrbitControls( camera, renderer.domElement );\r\n    orbit.enableZoom = false;\r\n\r\n    // Lock the rotation in x-axis, meaning we can't look above or below the aquarium\r\n    orbit.minPolarAngle = Math.PI / 2; // radians\r\n    orbit.maxPolarAngle = Math.PI / 2; // radians\r\n\r\n    // How far you can orbit horizontally, upper and lower limits.\r\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\r\n    orbit.minAzimuthAngle = - Math.PI / 2; // radians\r\n    orbit.maxAzimuthAngle = Math.PI / 2; // radians\r\n\r\n    //\r\n\r\n    window.addEventListener( 'resize', onWindowResize, false );\r\n\r\n}\r\n\r\nfunction onWindowResize() {\r\n\r\n    camera.aspect = window.innerWidth / window.innerHeight;\r\n    camera.updateProjectionMatrix();\r\n\r\n    renderer.setSize( window.innerWidth, window.innerHeight );\r\n\r\n}\r\n\r\n//\r\nvar prevTime = Date.now();\r\nfunction moveBox() {\r\n    if (counter <= 1) {\r\n        pabloDepletion += depleteFactor * 30;\r\n\r\n        var splinePoint = spline.getPointAt(counter);\r\n\r\n        splinePoint.y -= depleteFactor * 30;\r\n\r\n\r\n        if(pabloDepletion > 35 && !pabloIsDead){\r\n            pablo.position.y = -35;\r\n            pabloIsDead = true;\r\n            prevTime = Date.now();\r\n        } else if(pabloIsDead) {\r\n            var time = Date.now();\r\n\r\n            // Run the animation when Pablo hits the bottom of the tank\r\n            mixer.update( ( time - prevTime ) * 0.001 );\r\n\r\n            prevTime = time;\r\n        }\r\n        else {\r\n            pablo.position.x = splinePoint.x;\r\n            pablo.position.y = splinePoint.y - pabloDepletion;\r\n            pablo.position.z = splinePoint.z;\r\n\r\n            tangent = spline.getTangentAt(counter).normalize();\r\n\r\n            axis.crossVectors(up, tangent).normalize();\r\n\r\n            var radians = Math.acos(up.dot(tangent));\r\n\r\n            pablo.quaternion.setFromAxisAngle(axis, radians);\r\n        }\r\n\r\n        // pablo.position.y = (splinePoint.y - pabloDepletion) < -35 ? 0 : splinePoint.y - pabloDepletion;\r\n        // pablo.position.z = splinePoint.z;\r\n        // pablo.position.copy( spline.getPointAt(counter) );\r\n\r\n\r\n        counter += 0.001\r\n    } else {\r\n        counter = 0;\r\n    }\r\n}\r\n\r\nfunction animate() {\r\n\r\n    requestAnimationFrame( animate );\r\n\r\n    render();\r\n\r\n}\r\n\r\nfunction render() {\r\n\r\n    moveBox();\r\n\r\n    if(waterLevel.scale.y > 0){\r\n        // If the water isn't already completely depleted, lower the water level\r\n        waterLevel.scale.y -= depleteFactor;\r\n        console.log(waterLevel.scale.y);\r\n        waterLevel.position.y -= (depleteFactor * 30);\r\n    }\r\n\r\n    renderer.render( scene, camera );\r\n\r\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvYXBwLmpzPzcxNmYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbnRhaW5lcjtcclxudmFyIGNhbWVyYSwgc2NlbmUsIHByb2plY3RvciwgcmVuZGVyZXIsIG1peGVyO1xyXG5cclxudmFyIHBhYmxvLCBhcXVhcml1bSwgd2F0ZXJMZXZlbCA7XHJcblxyXG52YXIgc3BsaW5lLCBjb3VudGVyID0gMCwgbGluZTtcclxudmFyIHBhYmxvRGVwbGV0aW9uID0gNjtcclxudmFyIHBhYmxvSXNEZWFkID0gZmFsc2U7XHJcblxyXG52YXIgdGFuZ2VudCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcbnZhciBheGlzID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxudmFyIHVwID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMSk7XHJcblxyXG5jb25zdCBkZXBsZXRlRmFjdG9yID0gMC4wMDU7XHJcblxyXG5pbml0KCk7XHJcbmFuaW1hdGUoKTtcclxuXHJcbmZ1bmN0aW9uIGluaXQoKSB7XHJcblxyXG4gICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApO1xyXG5cclxuXHJcbiAgICAvL1xyXG5cclxuICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XHJcblxyXG4gICAgLy8gQ3JyZWF0ZSBhIGNhbWVyYVxyXG4gICAgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKCA3NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDEwMDAgKTtcclxuICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gMTAwO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIGRpcmVjdGlvbmFsIGxpZ2h0IGFuZCBwb3NpdGlvbiBpdCBsaWtlIHRoZSBjYW1lcmEsIHNvcnQgb2ZcclxuICAgIHZhciBkaXJMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KCAweGZmZmZmZiwgMC42ICk7XHJcbiAgICBkaXJMaWdodC5wb3NpdGlvbiA9IGNhbWVyYS5wb3NpdGlvbjtcclxuICAgIGRpckxpZ2h0LnJvdGF0aW9uID0gY2FtZXJhLnJvdGF0aW9uO1xyXG4gICAgZGlyTGlnaHQucG9zaXRpb24ueCArPSAzMDA7XHJcbiAgICBkaXJMaWdodC5wb3NpdGlvbi55ICs9IDMwMDtcclxuICAgIHNjZW5lLmFkZChkaXJMaWdodCk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGFuIGFtYmllbnQgbGlnaHRcclxuICAgIHZhciBhbWJMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoIDB4ZmZmZmZmLCAwLjggKTtcclxuICAgIGFtYkxpZ2h0LnBvc2l0aW9uLnkgPSAxMDAwO1xyXG4gICAgc2NlbmUuYWRkKGFtYkxpZ2h0KTtcclxuXHJcbiAgICB2YXIgbG9hZGVyID0gbmV3IFRIUkVFLkpTT05Mb2FkZXIoKTtcclxuICAgIGxvYWRlci5sb2FkKCBcIi4uL21vZGVscy9wYWJsby1lc2NvZmlzaDIuanNvblwiLCBmdW5jdGlvbiggZ2VvbWV0cnksIG1hdGVyaWFscyApIHtcclxuICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBtYXRlcmlhbHMubGVuZ3RoOyBpICsrICkge1xyXG4gICAgICAgICAgICB2YXIgbSA9IG1hdGVyaWFsc1sgaSBdO1xyXG4gICAgICAgICAgICAvL20uc2tpbm5pbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBtLm1vcnBoVGFyZ2V0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYWJsbyAgPSBuZXcgVEhSRUUuU2tpbm5lZE1lc2goIGdlb21ldHJ5LCBuZXcgVEhSRUUuTWVzaEZhY2VNYXRlcmlhbCggbWF0ZXJpYWxzICkgKTtcclxuXHJcbiAgICAgICAgLy8gcGFibG8gPSBuZXcgVEhSRUUuTWVzaCggZ2VvbWV0cnksIG5ldyBUSFJFRS5NdWx0aU1hdGVyaWFscygge1xyXG4gICAgICAgIC8vICAgICB2ZXJ0ZXhDb2xvcnM6IFRIUkVFLkZhY2VDb2xvcnMsXHJcbiAgICAgICAgLy8gICAgIG1vcnBoVGFyZ2V0czogdHJ1ZVxyXG4gICAgICAgIC8vIH0gKSApO1xyXG4gICAgICAgIHBhYmxvLnNjYWxlLnNldCggMSwgMSwgMSApO1xyXG4gICAgICAgIHNjZW5lLmFkZCggcGFibG8gKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coc2NlbmUpO1xyXG5cclxuICAgICAgICBtaXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlciggcGFibG8gKTtcclxuXHJcbiAgICAgICAgdmFyIGNsaXAgPSBUSFJFRS5BbmltYXRpb25DbGlwLkNyZWF0ZUZyb21Nb3JwaFRhcmdldFNlcXVlbmNlKCAnc2tlbGV0YWxBY3Rpb24uMDAxJywgZ2VvbWV0cnkubW9ycGhUYXJnZXRzLCAzMCwgZmFsc2UgKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhjbGlwKTtcclxuICAgICAgICBtaXhlci5jbGlwQWN0aW9uKCBjbGlwICkuc2V0RHVyYXRpb24oIDMgKS5wbGF5KCk7XHJcblxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgd2F0ZXIgbGV2ZWxcclxuICAgIHdhdGVyTGV2ZWwgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcclxuICAgIHdhdGVyTGV2ZWwuYWRkKCBuZXcgVEhSRUUuTWVzaChcclxuICAgICAgICBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTAwLCA2MCwgNzApLFxyXG5cclxuICAgICAgICBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoIHtcclxuICAgICAgICAgICAgY29sb3I6IDB4MTU2Mjg5LFxyXG4gICAgICAgICAgICBlbWlzc2l2ZTogMHgwNzI1MzQsXHJcbiAgICAgICAgICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGUsXHJcbiAgICAgICAgICAgIHNoYWRpbmc6IFRIUkVFLkZsYXRTaGFkaW5nLFxyXG4gICAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgICAgICAgb3BhY2l0eTogMC40XHJcbiAgICAgICAgfSApXHJcbiAgICApICk7XHJcblxyXG4gICAgLy8gU2V0IGl0IGF0IHRoZSBib3R0b20gb2YgdGhlIGFxdWFyaXVtXHJcbiAgICB3YXRlckxldmVsLnBvc2l0aW9uLnkgPSAtNC45OTtcclxuXHJcbiAgICAvLyBBZGQgdG8gc2NlbmVcclxuICAgIHNjZW5lLmFkZCggd2F0ZXJMZXZlbCApO1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgZ2xhc3MgYXF1YXJpdW1cclxuICAgIGFxdWFyaXVtID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XHJcbiAgICBhcXVhcml1bS5hZGQoIG5ldyBUSFJFRS5NZXNoKFxyXG4gICAgICAgIG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxMDAsIDcwLCA3MCksXHJcblxyXG4gICAgICAgIG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCgge1xyXG4gICAgICAgICAgICBjb2xvcjogMHhFMEVBRTcsXHJcbiAgICAgICAgICAgIC8vIGVtaXNzaXZlOiAweDA3MjUzNCxcclxuICAgICAgICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZSxcclxuICAgICAgICAgICAgc2hhZGluZzogVEhSRUUuRmxhdFNoYWRpbmcsXHJcbiAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxyXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjJcclxuICAgICAgICB9IClcclxuICAgICkgKTtcclxuXHJcbiAgICAvLyBBZGQgdG8gc2NlbmVcclxuICAgIHNjZW5lLmFkZCggYXF1YXJpdW0gKTtcclxuXHJcbiAgICAvL1xyXG5cclxuICAgIHZhciBudW1Qb2ludHMgPSA1MDtcclxuXHJcbiAgICBzcGxpbmUgPSBuZXcgVEhSRUUuU3BsaW5lQ3VydmUzKFtcclxuICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSxcclxuICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMygyMCwgMCwgMjApLFxyXG4gICAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKDQwLCAwLCAwKSxcclxuICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAtNDApLFxyXG4gICAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKC0yNSwgMCwgMCksXHJcbiAgICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoLTE1LCAwLCA1KSxcclxuICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMygtMTAsIDAsIC0yMCksXHJcbiAgICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMCldKTtcclxuXHJcbiAgICB2YXIgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoe1xyXG4gICAgICAgIGNvbG9yOiAweGZmMDBmMCxcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xyXG4gICAgdmFyIHNwbGluZVBvaW50cyA9IHNwbGluZS5nZXRQb2ludHMobnVtUG9pbnRzKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGluZVBvaW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGdlb21ldHJ5LnZlcnRpY2VzLnB1c2goc3BsaW5lUG9pbnRzW2ldKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1bmNvbW1lbnQgaWYgd2Ugd2FudCB0byBzaG93IHRoZSBwYXRoXHJcbiAgICAvLyBsaW5lID0gbmV3IFRIUkVFLkxpbmUoZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuICAgIC8vIHNjZW5lLmFkZChsaW5lKTtcclxuXHJcbiAgICAvL1xyXG5cclxuICAgIHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcclxuICAgIHJlbmRlcmVyLnNldENsZWFyQ29sb3IoIDB4ZjBmMGYwICk7XHJcbiAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyApO1xyXG4gICAgcmVuZGVyZXIuc2V0U2l6ZSggd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCApO1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xyXG5cclxuICAgIC8vIFJlbmRlciB0aGUgb2JqZWN0cyBpbiB0aGUgc2NlbmUgaW4gdGhlIG9yZGVyIHRoZXkgd2VyZSBjcmVhdGVkXHJcbiAgICByZW5kZXJlci5zb3J0T2JqZWN0cyA9IGZhbHNlO1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgY29udHJvbHMgdG8gcm90YXRlIHRoZSBhcXVhcml1bVxyXG4gICAgdmFyIG9yYml0ID0gbmV3IFRIUkVFLk9yYml0Q29udHJvbHMoIGNhbWVyYSwgcmVuZGVyZXIuZG9tRWxlbWVudCApO1xyXG4gICAgb3JiaXQuZW5hYmxlWm9vbSA9IGZhbHNlO1xyXG5cclxuICAgIC8vIExvY2sgdGhlIHJvdGF0aW9uIGluIHgtYXhpcywgbWVhbmluZyB3ZSBjYW4ndCBsb29rIGFib3ZlIG9yIGJlbG93IHRoZSBhcXVhcml1bVxyXG4gICAgb3JiaXQubWluUG9sYXJBbmdsZSA9IE1hdGguUEkgLyAyOyAvLyByYWRpYW5zXHJcbiAgICBvcmJpdC5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSSAvIDI7IC8vIHJhZGlhbnNcclxuXHJcbiAgICAvLyBIb3cgZmFyIHlvdSBjYW4gb3JiaXQgaG9yaXpvbnRhbGx5LCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLlxyXG4gICAgLy8gSWYgc2V0LCBtdXN0IGJlIGEgc3ViLWludGVydmFsIG9mIHRoZSBpbnRlcnZhbCBbIC0gTWF0aC5QSSwgTWF0aC5QSSBdLlxyXG4gICAgb3JiaXQubWluQXppbXV0aEFuZ2xlID0gLSBNYXRoLlBJIC8gMjsgLy8gcmFkaWFuc1xyXG4gICAgb3JiaXQubWF4QXppbXV0aEFuZ2xlID0gTWF0aC5QSSAvIDI7IC8vIHJhZGlhbnNcclxuXHJcbiAgICAvL1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgb25XaW5kb3dSZXNpemUsIGZhbHNlICk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBvbldpbmRvd1Jlc2l6ZSgpIHtcclxuXHJcbiAgICBjYW1lcmEuYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG5cclxuICAgIHJlbmRlcmVyLnNldFNpemUoIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgKTtcclxuXHJcbn1cclxuXHJcbi8vXHJcbnZhciBwcmV2VGltZSA9IERhdGUubm93KCk7XHJcbmZ1bmN0aW9uIG1vdmVCb3goKSB7XHJcbiAgICBpZiAoY291bnRlciA8PSAxKSB7XHJcbiAgICAgICAgcGFibG9EZXBsZXRpb24gKz0gZGVwbGV0ZUZhY3RvciAqIDMwO1xyXG5cclxuICAgICAgICB2YXIgc3BsaW5lUG9pbnQgPSBzcGxpbmUuZ2V0UG9pbnRBdChjb3VudGVyKTtcclxuXHJcbiAgICAgICAgc3BsaW5lUG9pbnQueSAtPSBkZXBsZXRlRmFjdG9yICogMzA7XHJcblxyXG5cclxuICAgICAgICBpZihwYWJsb0RlcGxldGlvbiA+IDM1ICYmICFwYWJsb0lzRGVhZCl7XHJcbiAgICAgICAgICAgIHBhYmxvLnBvc2l0aW9uLnkgPSAtMzU7XHJcbiAgICAgICAgICAgIHBhYmxvSXNEZWFkID0gdHJ1ZTtcclxuICAgICAgICAgICAgcHJldlRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIH0gZWxzZSBpZihwYWJsb0lzRGVhZCkge1xyXG4gICAgICAgICAgICB2YXIgdGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBSdW4gdGhlIGFuaW1hdGlvbiB3aGVuIFBhYmxvIGhpdHMgdGhlIGJvdHRvbSBvZiB0aGUgdGFua1xyXG4gICAgICAgICAgICBtaXhlci51cGRhdGUoICggdGltZSAtIHByZXZUaW1lICkgKiAwLjAwMSApO1xyXG5cclxuICAgICAgICAgICAgcHJldlRpbWUgPSB0aW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGFibG8ucG9zaXRpb24ueCA9IHNwbGluZVBvaW50Lng7XHJcbiAgICAgICAgICAgIHBhYmxvLnBvc2l0aW9uLnkgPSBzcGxpbmVQb2ludC55IC0gcGFibG9EZXBsZXRpb247XHJcbiAgICAgICAgICAgIHBhYmxvLnBvc2l0aW9uLnogPSBzcGxpbmVQb2ludC56O1xyXG5cclxuICAgICAgICAgICAgdGFuZ2VudCA9IHNwbGluZS5nZXRUYW5nZW50QXQoY291bnRlcikubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgICAgICBheGlzLmNyb3NzVmVjdG9ycyh1cCwgdGFuZ2VudCkubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmFkaWFucyA9IE1hdGguYWNvcyh1cC5kb3QodGFuZ2VudCkpO1xyXG5cclxuICAgICAgICAgICAgcGFibG8ucXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKGF4aXMsIHJhZGlhbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcGFibG8ucG9zaXRpb24ueSA9IChzcGxpbmVQb2ludC55IC0gcGFibG9EZXBsZXRpb24pIDwgLTM1ID8gMCA6IHNwbGluZVBvaW50LnkgLSBwYWJsb0RlcGxldGlvbjtcclxuICAgICAgICAvLyBwYWJsby5wb3NpdGlvbi56ID0gc3BsaW5lUG9pbnQuejtcclxuICAgICAgICAvLyBwYWJsby5wb3NpdGlvbi5jb3B5KCBzcGxpbmUuZ2V0UG9pbnRBdChjb3VudGVyKSApO1xyXG5cclxuXHJcbiAgICAgICAgY291bnRlciArPSAwLjAwMVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb3VudGVyID0gMDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYW5pbWF0ZSgpIHtcclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIGFuaW1hdGUgKTtcclxuXHJcbiAgICByZW5kZXIoKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcigpIHtcclxuXHJcbiAgICBtb3ZlQm94KCk7XHJcblxyXG4gICAgaWYod2F0ZXJMZXZlbC5zY2FsZS55ID4gMCl7XHJcbiAgICAgICAgLy8gSWYgdGhlIHdhdGVyIGlzbid0IGFscmVhZHkgY29tcGxldGVseSBkZXBsZXRlZCwgbG93ZXIgdGhlIHdhdGVyIGxldmVsXHJcbiAgICAgICAgd2F0ZXJMZXZlbC5zY2FsZS55IC09IGRlcGxldGVGYWN0b3I7XHJcbiAgICAgICAgY29uc29sZS5sb2cod2F0ZXJMZXZlbC5zY2FsZS55KTtcclxuICAgICAgICB3YXRlckxldmVsLnBvc2l0aW9uLnkgLT0gKGRlcGxldGVGYWN0b3IgKiAzMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyZXIucmVuZGVyKCBzY2VuZSwgY2FtZXJhICk7XHJcblxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9hcHAuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);